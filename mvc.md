# MVC

## MVCとは？
UI（ユーザーインターフェース)を持つアプリケーションソフトウェアを実装するためのデザインパターンの一つ

Webアプリのような画面を通してユーザー機械とやりとりをするソフトウェアに用いられるデザインの方式（例：Twitterだとそのアプリを使うユーザーがいて、そのユーザーが直接編集したりするWebサービスに用いられるデザインパターン）

＊Model(データ) View(画面) Controller(操作)

## MVCなぜできた？
アプリを色々処理する中で画面(UI)の部分とデータを処理する部分で性質が違うのでその2つを一緒にコードを書いてしまうと複雑になってしまうので`見た目を担当するView`,`アプリ固有のデータの処理を行うModel`,`ViewとModelをコントロールするController`の役割を3つに分ける事によって管理しやすくしようという理由でMVCというフレームワークが作られた


## URLにアクセスし、一覧画面が表示されるまでの流れ
例１）
1. ユーザーがリンクをクリック

2. リンクのページに遷移するためにControllerがViewとModelに命令を出す

3. Modelはリンク先に必要な情報をデータベース(データの倉庫)から取得してくる。Viewもリンク先にあった画面に変更する

4. ModelとViewの処理結果がControllerに渡される

5. ユーザーは取得した新しいページが見れる




例２）
1. URLを入力する→Routing
アドレスバーに例）「http://localhost:3000/todolists」と入力し、送信します。
（リクエストはtodolists,HTTPメソッドはGET）

2. Routing→Controller
ルーティングの指示によって、todolistsコントローラのindexアクションを確認します。

3. Controller← →Model
コントローラにインスタンス変数を定義（@lists=List.all）することで、「すべての投稿データを取得してください」の指示をListモデルへ送信します。

4. Model←→データベース
モデルがデータベースと通信し、指示のとおりにすべての投稿を取得し、@listsに保存します。

5. Controller←→View
インスタンス変数（@lists）がindex.html.erbファイルへ送られ、HTMLが作成されます。

6. Controller→画面
Viewで作成されたHTMLが、コントローラを経由してブラウザに送られ、表示されます。
