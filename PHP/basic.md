# PHPの基本

PHPを使うと、見る人や状況に応じて、表示するテキストを変えることができます。
動的なコンテンツの作成に向いているプログラミング言語です。動的なコンテンツとは、同じURLであっても閲覧者の属性や時間帯などによって、表示される内容が変わってくるコンテンツを指します。

## PHPの書き方
PHPはHTMLに埋め込んで使うことができます。<?php 〜 ?>の中にPHPの命令を書いていきます。<?php 〜 ?>の部分がHTMLに変換された上で表示されます。


```
例）
print('PHPを勉強中です');


print・・・ファンクション(関数)　　//print=文字を表示するファンクション
('~')・・・パラメーター(引数)
```

様々なファンクションがあるのでPHPのリファレンスを確認しながら実装する

[リファレンス](https://www.php.net/manual/ja/langref.php)

`PHPコード`
```
<html>
  <head></head>
  <body>
    <h1>PHP<h1>
    <?php echo '<h2>初級<h2>';?>　//PHPの部分
  </body>
</html>
```
`HTMLに変換されたPHPコード`
```
<html>
  <head></head>
  <body>
    <h1>PHP<h1>
    <h2>初級<h2>
  </body>
</html>
```
### PHPの文法
PHPでは文末にセミコロン「;」を使って文を区切ります。 セミコロンを忘れるとエラーが起きるので注意しましょう。また、「//」から行末まではコメントになります。動作には関係しない情報で、主にメモなどに用いられます。

`index.php`
```
<?php
    echo 'こんにちは';
    echo 'ありがとうございます';  //末尾にセミコロン

    print('こんにちは');   //この書き方もできる
?>
```

### 文字列と数値
数値として「 5 + 2 」を行うと７が出力されます。ただし「 5 + 2 」をシングルクォーテーションやダブルクォーテーションで囲むと、文字列と解釈されそのまま出力されます。

```
<?php
    echo 5+7;  //数値で12が出力される
    echo 'ありがとうございます';  //文字列
?>
```

### 文字列連結
PHPは`.`で文字列連結できる
```
例）
<?php
date_default_timezone_set('Asia/Tokyo');
print('現在は'.date('G時 i分 s秒'.'です'));　　　//文字列連結
?>
```

### 変数
プログラミングの重要な概念の1つである「変数」変数とは、データの入れ物です。頭に「$」記号をつけることによって変数を定義します。`「$変数名 = 値;」`で様々な値を変数に入れることが出来ます。「＝」はプログラミングの世界では、右辺を左辺に代入するという意味です。

＊PHPの変数は＄から始まる

```
<?php
    $name='太郎';
    echo $name;  //結果：太郎
?>
```
#####  変数の役割
①データに名前をつけることでそのデータが何を表しているかを明確にできる

②複数回使うデータを１つの変数に入れておくことで、変更があった場合も１箇所の修正ですむ。

#### 変数の更新
変数は、中に入っている①データに名前をつけることでそのデータが何を表しているかを明確にできる

値を変更することもできます。
変数に、その後再び値を代入すると、後で代入した値によって変数の中身が上書きされます。

```
<?php
    $num=3;
    echo $num ; //結果：3

    $num=5;
    echo $num;  //結果：5
?>
```

### 文字列の連結
ドット「.」記号を用いると文字列を連結することが出来ます。文字列同士の連結、変数と文字列の連結、変数同士の連結をすることができます。
```
<?php
    $lesson='PHP';
    echo $lesson.'入門'; //結果：PHP入門

    $level='入門'
    echo $num  //結果：PHP入門
?>
```

ダブルクォーテーションで文字列を囲んだ場合、中の変数を{}で囲むとその部分が変数に入っている値で置き換えられます(変数展開)。`シングルクォーテーションで文字列を囲んだ場合は変数展開されず`、変数が{}で囲まれていてもそのまま文字列としてみなされます。
```
<?php
    $name='太郎';
    echo 'こんにちは{$name}'; //結果：こんにちは{$name}

    echo "こんにちは{$name}"; //結果：こんにちは太郎さん
?>
```


### if文
if文を使うと、条件に応じて処理を分岐することができます。
条件が成り立つ場合、｛｝の中の処理が実行されます。
条件が成り立たない場合は処理が実行されません。

`index.php`
```
$x=20;
if($x>10){
  echo '$xは１０より大きい'; 条件がtrueなので処理が実行される(falseだと実行されない)
}
```

### switch文
if, elseifによる分岐が多く複雑な場合、switch文で書き換えるとシンプルで読みやすいコードにできます。switch(式)の(式)がcaseの値と一致したとき、そのブロックが実行されます。caseのどれにも一致しなかった時、defaultのブロックが実行されます。

`if文を用いた条件分岐`
```
if($coin==0){
  echo '表';
}elseif($coin ==1){
  echo '裏';
}else{
  echo 'エラー';
}
```
`switch文を用いた条件分岐`
```
switch($coin){
  case 0: //コロン
    echo '表';
    breake;
  case 1:
    echo '裏';
    breake;
  defoult:
    echo 'エラー';
    breake;
}
```
＊caseブロックの最後にはbreak命令を指定します。break命令は現在のブロックから脱出するための命令です。break命令がないと、後ろに続くcaseブロックが続けて実行されてしまいます。

### 配列
これまでの変数が一つしか値を扱えなかったのに対し、配列を用いると複数の値をまとめて保存することができます。配列は仕切りのある箱のようなもので、それぞれのスペースにデータが入っており、0, 1, 2...というインデックス番号によってスペースの名前が付けられています

配列の基本構文は`「$配列名 = array(値１, 値2, ・・・);」`のようになっています。配列のデータには先頭から0, 1, 2, ・・・と順に「インデックス番号」が割り振られていきます。配列のデータを取り出すには「インデックス番号」を用いて $配列名[インデックス番号] という風にします。

配列の末尾に値を追加するときは「$配列名[] = 値;」とします。また、すでに存在するインデックス番号を指定すると、配列の値を上書きすることもできます。
```
$names = array('太郎','タケ','ロン');
  echo names[0]; //結果：太郎

$names[]='クボ'　//namesにクボが追加された
  echo names[3];  //結果：クボ

$names[1]='オノ';  //値の上書き
  echo names[1];  //結果：オノ
```


### 繰り返しの処理
1から100までの数値を出力するときのように、繰り返しで何かを行いたいときには繰り返し文を用います。
繰り返し文を使うことで、繰り返しの処理（ループ処理）をたった数行で書くことが出来ます。

```
for($i =1; $i<= 100; $++){
  echo $i;
}
```

### while文
while文もfor文と同様に、繰り返し処理の一つです。
条件式を指定し、それがtrueの間、処理が繰り返し実行されます。
for文の時のように変数$iが自動的に増えていかないため、ここではループのたびに「$i ++;」を行っています。
```
$i = 1;　①初期化
  while($i <= 100){　②ループの条件(今回は100回まで繰り返す)
    echo $i;　③繰り返す処理(表示する)
    $i++;   ④変数の更新処理
}
```

### break
break文は現在のループを強制的に中断する命令です。for, while, foreachなどの繰り返し文の中で利用できます。break文はif文などの条件文と組み合わせて利用するのが一般的です。

```
for ($i =1;$i<=10;$i++){
  if($i>5){
    break  //$iの値が６になったら段階でfor文を終了
  }
  echo $i;
}
// 結果：１２３４５
```

### continue
ループそのものを完全に抜けてしまうbreak文に対して、continue文は現在の周だけをスキップし、ループそのものは継続して実行します。
continue文もfor, while, foreachなどの繰り返し文の中で利用できます。

```
for($i=1;$i<=10;$++){
  if($i% 3 == 0){
    continue;  //$iの値が３の倍数の時、その周のループを終了し、次のループを実行
  }
  echo $i;
}
//結果：１２４５７８１０(3の倍数)
```

### foreach
foreach文とは、配列または連想配列に対して、先頭のデータから順に繰り返し処理を行うための命令です。
以下のように配列のデータを１つずつ取り出して処理を行うことが出来ます。
「as」の後ろの変数に、ループの度にデータが先頭から順に代入されていきます。asの後ろの変数名は何を指定しても大丈夫です。

```
$towns =array('東京','大阪','京都');

foreach($towns as $towns){
  echo $town.'';
}
//結果：東京　大阪　京都
```

foreach文では、配列内のデータが順次「キー変数」、「値変数」に代入され、それに対して処理が繰り返し適用されます。
「キー変数」には、配列のときはインデックス番号が、連想配列のときはキーが代入されます。
ただし、「キー変数」の部分は省略可能です。

```
foreach(配列　as 値変数){
  繰り返したい処理;
}
foreach(配列 as キー変数 => 値変数){
  繰り返したい処理;
}
```














































